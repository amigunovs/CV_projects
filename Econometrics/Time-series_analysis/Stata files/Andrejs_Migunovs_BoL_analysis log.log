---------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Андрей\Desktop\Andrejs_Migunovs_BoL_analysis.log
  log type:  text
 opened on:   8 May 2021, 15:15:52

. 
. * summing up extra and intra Eurozone imports*
. generate m_ea = m_ea_in + m_ea_ex

. 
. * seasonal adjustment of the variables p_lv and p_ea*
. * here also other technique might be used, for example, TRAMO/SEATS, census X-12 or X-13, or some moving average method, I chose this
>  one because my old stata version has some technical issue with census X-12*
. tssmooth shwinters p_ea_sa = p_ea, iterate(20)
computing optimal weights

Iteration 0:   penalized RSS = -20.410367  (not concave)
Iteration 1:   penalized RSS = -12.999221  (not concave)
Iteration 2:   penalized RSS = -12.085121  
Iteration 3:   penalized RSS = -11.345238  (not concave)
Iteration 4:   penalized RSS = -11.112846  (not concave)
Iteration 5:   penalized RSS = -11.078967  
Iteration 6:   penalized RSS =  -11.04604  
Iteration 7:   penalized RSS = -11.040553  
Iteration 8:   penalized RSS =  -11.03913  
Iteration 9:   penalized RSS = -11.038879  
Iteration 10:  penalized RSS =  -11.03882  
Iteration 11:  penalized RSS = -11.038818  
Iteration 12:  penalized RSS = -11.038812  
Iteration 13:  penalized RSS = -11.038812  (backed up)
Iteration 14:  penalized RSS = -11.038812  (backed up)
Iteration 15:  penalized RSS = -11.038812  (backed up)
Iteration 16:  penalized RSS = -11.038812  (backed up)
Iteration 17:  penalized RSS = -11.038812  (backed up)
Iteration 18:  penalized RSS = -11.038812  (backed up)
Iteration 19:  penalized RSS = -11.038812  (backed up)
Iteration 20:  penalized RSS = -11.038812  (backed up)
convergence not achieved

Optimal weights:
                             alpha = 0.7403
                              beta = 0.0211
                             gamma = 1.0000
penalized sum-of-squared residuals = 11.03881 
          sum-of-squared residuals = 11.03881 
          root mean squared error  = .209296  

. tssmooth shwinters p_lv_sa = p_lv, iterate(20)
computing optimal weights

Iteration 0:   penalized RSS = -92.231551  (not concave)
Iteration 1:   penalized RSS = -50.231173  (not concave)
Iteration 2:   penalized RSS = -45.425984  
Iteration 3:   penalized RSS = -44.570363  
Iteration 4:   penalized RSS = -44.242827  
Iteration 5:   penalized RSS = -44.145585  
Iteration 6:   penalized RSS = -44.104867  
Iteration 7:   penalized RSS = -44.095239  
Iteration 8:   penalized RSS = -44.093023  
Iteration 9:   penalized RSS = -44.092529  
Iteration 10:  penalized RSS = -44.092432  
Iteration 11:  penalized RSS = -44.092425  
Iteration 12:  penalized RSS = -44.092423  
Iteration 13:  penalized RSS = -44.092423  
Iteration 14:  penalized RSS = -44.092423  (backed up)
Iteration 15:  penalized RSS = -44.092423  (backed up)
Iteration 16:  penalized RSS = -44.092423  (backed up)
Iteration 17:  penalized RSS = -44.092423  (backed up)
Iteration 18:  penalized RSS = -44.092423  (backed up)
Iteration 19:  penalized RSS = -44.092423  (backed up)
Iteration 20:  penalized RSS = -44.092423  (backed up)
convergence not achieved

Optimal weights:
                             alpha = 0.8449
                              beta = 0.1966
                             gamma = 1.0000
penalized sum-of-squared residuals = 44.09242 
          sum-of-squared residuals = 44.09242 
          root mean squared error  = .4182941 

. label variable p_ea_sa "p_ea_sa"

. label variable p_lv_sa "p_lv_sa"

. 
. * now the one can compare the seasonally adjusted data with the original variables and compare two obtained HIPC indices of the euroz
> one and Latvia*
. tsline p_lv_sa p_lv if date > 650

. tsline p_ea_sa p_ea if date > 650

. tsline p_lv_sa p_ea_sa

. 
. * Putting the import data into logarithms and comparing them*
. gen ln_m_ea = ln(m_ea)

. gen ln_x_lv_ea = ln(x_lv_ea)

. tsline ln_m_ea ln_x_lv_ea

. gen ln_p_lv_sa = ln(p_lv_sa)

. gen ln_p_ea_sa = ln(p_ea_sa)

. tsline ln_p_lv_sa ln_p_ea_sa

. *by the way, the trends are similar*
. 
. 
. *B)
. summarize date

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
        date |        252       593.5    72.89033        468        719

. *Here Dickey-Fuller test can be applied and the number of lags can be specified as well by using IC. Other DF test specifications can
>  also be tested (noncons and trend), but I decide to stick to this model. The optimal model is chosen based on the smallest AIC and B
> IC values. I also tend to keep the same sample period to be able to compare IC. The truncation parameter is 0.75*T^(1/3) which is app
> roximately 5 in this case
. quietly regress d.ln_p_ea_sa l.ln_p_ea_sa if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   1024.557   1026.115       2   -2048.23  -2041.219
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_p_ea_sa l.ln_p_ea_sa dl.ln_p_ea_sa if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   1024.557    1026.32       3   -2046.64  -2036.124
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_p_ea_sa l.ln_p_ea_sa dl.ln_p_ea_sa dl2.ln_p_ea_sa if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   1024.557   1032.341       4  -2056.681   -2042.66
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_p_ea_sa l.ln_p_ea_sa dl.ln_p_ea_sa dl2.ln_p_ea_sa dl3.ln_p_ea_sa if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   1024.557   1033.144       5  -2056.289  -2038.762
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_p_ea_sa l.ln_p_ea_sa dl.ln_p_ea_sa dl2.ln_p_ea_sa dl3.ln_p_ea_sa dl4.ln_p_ea_sa if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   1024.557   1044.756       6  -2077.512   -2056.48
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_p_ea_sa l.ln_p_ea_sa dl.ln_p_ea_sa dl2.ln_p_ea_sa dl3.ln_p_ea_sa dl4.ln_p_ea_sa dl5.ln_p_ea_sa if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   1024.557   1045.764       7  -2077.529  -2052.991
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. dfuller ln_p_ea_sa, lags(4) regress

Augmented Dickey-Fuller test for unit root         Number of obs   =       247

                               ---------- Interpolated Dickey-Fuller ---------
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
------------------------------------------------------------------------------
 Z(t)             -2.682            -3.461            -2.880            -2.570
------------------------------------------------------------------------------
MacKinnon approximate p-value for Z(t) = 0.0772

------------------------------------------------------------------------------
D.ln_p_ea_sa |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
  ln_p_ea_sa |
         L1. |  -.0057869   .0021576    -2.68   0.008     -.010037   -.0015369
         LD. |   .0087137   .0612132     0.14   0.887    -.1118674    .1292949
        L2D. |  -.2766055    .061183    -4.52   0.000    -.3971272   -.1560838
        L3D. |  -.0704146   .0611141    -1.15   0.250    -.1908006    .0499715
        L4D. |  -.3006474   .0611736    -4.91   0.000    -.4211505   -.1801442
             |
       _cons |   .0284235   .0097638     2.91   0.004     .0091901    .0476569
------------------------------------------------------------------------------

. *We can see that this variable is stationary with 10% significance with this concrete specification. It is up to the statistician to 
> decide, which significance level to choose. Let us assume this is not enough.
. 
. quietly regress d.ln_p_lv_sa l.ln_p_lv_sa if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   876.7707   878.8026       2  -1753.605  -1746.595
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_p_lv_sa l.ln_p_lv_sa dl.ln_p_lv_sa if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   876.7707   881.3855       3  -1756.771  -1746.255
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_p_lv_sa l.ln_p_lv_sa dl.ln_p_lv_sa dl2.ln_p_lv_sa if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   876.7707   882.0042       4  -1756.008  -1741.987
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_p_lv_sa l.ln_p_lv_sa dl.ln_p_lv_sa dl2.ln_p_lv_sa dl3.ln_p_lv_sa if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   876.7707   887.0514       5  -1764.103  -1746.576
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_p_lv_sa l.ln_p_lv_sa dl.ln_p_lv_sa dl2.ln_p_lv_sa dl3.ln_p_lv_sa dl4.ln_p_lv_sa if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   876.7707   898.1286       6  -1784.257  -1763.225
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_p_lv_sa l.ln_p_lv_sa dl.ln_p_lv_sa dl2.ln_p_lv_sa dl3.ln_p_lv_sa dl4.ln_p_lv_sa dl5.ln_p_lv_sa if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   876.7707   898.3567       7  -1782.713  -1758.176
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. dfuller ln_p_lv_sa, lag(4) regress

Augmented Dickey-Fuller test for unit root         Number of obs   =       247

                               ---------- Interpolated Dickey-Fuller ---------
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
------------------------------------------------------------------------------
 Z(t)             -1.296            -3.461            -2.880            -2.570
------------------------------------------------------------------------------
MacKinnon approximate p-value for Z(t) = 0.6312

------------------------------------------------------------------------------
D.ln_p_lv_sa |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
  ln_p_lv_sa |
         L1. |  -.0021809   .0016833    -1.30   0.196    -.0054968    .0011349
         LD. |   .0683669   .0615586     1.11   0.268    -.0528946    .1896285
        L2D. |   .0343953   .0608549     0.57   0.572    -.0854802    .1542707
        L3D. |   .1626239   .0608866     2.67   0.008     .0426861    .2825618
        L4D. |   .2713009   .0603216     4.50   0.000     .1524761    .3901257
             |
       _cons |   .0108822   .0074655     1.46   0.146    -.0038238    .0255882
------------------------------------------------------------------------------

. 
. quietly regress d.ln_m_ea l.ln_m_ea if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   651.6796   654.1023       2  -1304.205  -1297.194
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_m_ea l.ln_m_ea dl.ln_m_ea if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   651.6796   656.2331       3  -1306.466   -1295.95
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_m_ea l.ln_m_ea dl.ln_m_ea dl2.ln_m_ea if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   651.6796   671.6035       4  -1335.207  -1321.186
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_m_ea l.ln_m_ea dl.ln_m_ea dl2.ln_m_ea dl3.ln_m_ea if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   651.6796   671.7545       5  -1333.509  -1315.982
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_m_ea l.ln_m_ea dl.ln_m_ea dl2.ln_m_ea dl3.ln_m_ea dl4.ln_m_ea if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   651.6796   671.7548       6   -1331.51  -1310.478
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_m_ea l.ln_m_ea dl.ln_m_ea dl2.ln_m_ea dl3.ln_m_ea dl4.ln_m_ea dl5.ln_m_ea if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   651.6796   671.7673       7  -1329.535  -1304.997
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. dfuller ln_m_ea, lags(2) regress

Augmented Dickey-Fuller test for unit root         Number of obs   =       249

                               ---------- Interpolated Dickey-Fuller ---------
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
------------------------------------------------------------------------------
 Z(t)             -1.877            -3.460            -2.880            -2.570
------------------------------------------------------------------------------
MacKinnon approximate p-value for Z(t) = 0.3431

------------------------------------------------------------------------------
   D.ln_m_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     ln_m_ea |
         L1. |  -.0077584   .0041342    -1.88   0.062    -.0159016    .0003847
         LD. |   .0788008   .0593676     1.33   0.186    -.0381352    .1957368
        L2D. |   .3427145   .0593433     5.78   0.000     .2258265    .4596026
             |
       _cons |   .0981144   .0512319     1.92   0.057    -.0027968    .1990256
------------------------------------------------------------------------------

. 
. quietly regress d.ln_x_lv_ea l.ln_x_lv_ea if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537   360.5564       2  -717.1128  -710.1021
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_x_lv_ea l.ln_x_lv_ea dl.ln_x_lv_ea if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537   376.7763       3  -747.5527  -737.0367
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_x_lv_ea l.ln_x_lv_ea dl.ln_x_lv_ea dl2.ln_x_lv_ea if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537    377.142       4  -746.2841  -732.2628
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_x_lv_ea l.ln_x_lv_ea dl.ln_x_lv_ea dl2.ln_x_lv_ea dl3.ln_x_lv_ea if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537   377.1769       5  -744.3539  -726.8272
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_x_lv_ea l.ln_x_lv_ea dl.ln_x_lv_ea dl2.ln_x_lv_ea dl3.ln_x_lv_ea dl4.ln_x_lv_ea if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537   377.2347       6  -742.4694  -721.4374
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.ln_x_lv_ea l.ln_x_lv_ea dl.ln_x_lv_ea dl2.ln_x_lv_ea dl3.ln_x_lv_ea dl4.ln_x_lv_ea dl5.ln_x_lv_ea if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537   380.2831       7  -746.5661  -722.0288
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. dfuller ln_x_lv_ea, lags(1) regress

Augmented Dickey-Fuller test for unit root         Number of obs   =       250

                               ---------- Interpolated Dickey-Fuller ---------
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
------------------------------------------------------------------------------
 Z(t)             -2.243            -3.460            -2.880            -2.570
------------------------------------------------------------------------------
MacKinnon approximate p-value for Z(t) = 0.1910

------------------------------------------------------------------------------
D.ln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
  ln_x_lv_ea |
         L1. |  -.0142913   .0063714    -2.24   0.026    -.0268405   -.0017421
         LD. |  -.3485763   .0591227    -5.90   0.000    -.4650252   -.2321275
             |
       _cons |   .0918219   .0366277     2.51   0.013     .0196794    .1639643
------------------------------------------------------------------------------

. 
. * as we can see, the data is non-stationary at I(0). We also can test the stationarity for the first difference*
. *Generating the first difference variable*
. generate dln_p_ea_sa = d.ln_p_ea_sa
(1 missing value generated)

. generate dln_p_lv_sa = d.ln_p_lv_sa
(1 missing value generated)

. generate dln_x_lv_ea = d.ln_x_lv_ea
(1 missing value generated)

. generate dln_m_ea = d.ln_m_ea
(1 missing value generated)

. 
. *Performing the tests*
. 
. quietly regress d.dln_p_ea_sa l.dln_p_ea_sa if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   941.1859   1020.703       2  -2037.406  -2030.403
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_p_ea_sa l.dln_p_ea_sa dl.dln_p_ea_sa if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   941.1859   1026.253       3  -2046.507  -2036.003
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_p_ea_sa l.dln_p_ea_sa dl.dln_p_ea_sa dl2.dln_p_ea_sa if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   941.1859   1026.828       4  -2045.655   -2031.65
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_p_ea_sa l.dln_p_ea_sa dl.dln_p_ea_sa dl2.dln_p_ea_sa dl3.dln_p_ea_sa if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   941.1859   1036.618       5  -2063.236   -2045.73
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_p_ea_sa l.dln_p_ea_sa dl.dln_p_ea_sa dl2.dln_p_ea_sa dl3.dln_p_ea_sa dl4.dln_p_ea_sa if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   941.1859   1037.008       6  -2062.017  -2041.009
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_p_ea_sa l.dln_p_ea_sa dl.dln_p_ea_sa dl2.dln_p_ea_sa dl3.dln_p_ea_sa dl4.dln_p_ea_sa dl5.dln_p_ea_sa if date>47
> 4

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   941.1859   1067.381       7  -2120.761  -2096.252
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. dfuller dln_p_ea_sa, lags(5) regress

Augmented Dickey-Fuller test for unit root         Number of obs   =       245

                               ---------- Interpolated Dickey-Fuller ---------
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
------------------------------------------------------------------------------
 Z(t)             -4.989            -3.462            -2.880            -2.570
------------------------------------------------------------------------------
MacKinnon approximate p-value for Z(t) = 0.0000

------------------------------------------------------------------------------
D.           |
 dln_p_ea_sa |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
 dln_p_ea_sa |
         L1. |  -.8804497   .1764677    -4.99   0.000    -1.228088   -.5328115
         LD. |  -.0846171   .1533429    -0.55   0.582    -.3866998    .2174655
        L2D. |  -.2151011   .1281776    -1.68   0.095    -.4676086    .0374064
        L3D. |  -.2502956   .1057917    -2.37   0.019    -.4587034   -.0418879
        L4D. |  -.4049028   .0802842    -5.04   0.000    -.5630611   -.2467445
        L5D. |  -.4695992   .0573842    -8.18   0.000    -.5826451   -.3565532
             |
       _cons |   .0012394   .0003237     3.83   0.000     .0006017    .0018771
------------------------------------------------------------------------------

. 
. quietly regress d.dln_p_lv_sa l.dln_p_lv_sa if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   808.4758   875.6587       2  -1747.317  -1740.315
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_p_lv_sa l.dln_p_lv_sa dl.dln_p_lv_sa if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   808.4758   876.4049       3   -1746.81  -1736.306
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_p_lv_sa l.dln_p_lv_sa dl.dln_p_lv_sa dl2.dln_p_lv_sa if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   808.4758   881.6693       4  -1755.339  -1741.334
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_p_lv_sa l.dln_p_lv_sa dl.dln_p_lv_sa dl2.dln_p_lv_sa dl3.dln_p_lv_sa if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   808.4758   892.9106       5  -1775.821  -1758.315
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_p_lv_sa l.dln_p_lv_sa dl.dln_p_lv_sa dl2.dln_p_lv_sa dl3.dln_p_lv_sa dl4.dln_p_lv_sa if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   808.4758   893.0894       6  -1774.179  -1753.171
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_p_lv_sa l.dln_p_lv_sa dl.dln_p_lv_sa dl2.dln_p_lv_sa dl3.dln_p_lv_sa dl4.dln_p_lv_sa dl5.dln_p_lv_sa if date>47
> 4

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   808.4758   893.1561       7  -1772.312  -1747.803
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. dfuller dln_p_lv_sa, lags(3) regress

Augmented Dickey-Fuller test for unit root         Number of obs   =       247

                               ---------- Interpolated Dickey-Fuller ---------
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
------------------------------------------------------------------------------
 Z(t)             -4.503            -3.461            -2.880            -2.570
------------------------------------------------------------------------------
MacKinnon approximate p-value for Z(t) = 0.0002

------------------------------------------------------------------------------
D.           |
 dln_p_lv_sa |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
 dln_p_lv_sa |
         L1. |   -.445425   .0989224    -4.50   0.000    -.6402838   -.2505663
         LD. |  -.4815512   .0936968    -5.14   0.000    -.6661167   -.2969858
        L2D. |  -.4429935   .0797433    -5.56   0.000    -.6000731   -.2859139
        L3D. |    -.27641   .0602769    -4.59   0.000    -.3951443   -.1576757
             |
       _cons |   .0012308   .0004965     2.48   0.014     .0002528    .0022089
------------------------------------------------------------------------------

. 
. quietly regress d.dln_x_lv_ea l.dln_x_lv_ea if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   235.3936   372.8422       2  -741.6845   -734.682
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_x_lv_ea l.dln_x_lv_ea dl.dln_x_lv_ea if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   235.3936   373.0985       3  -740.1969  -729.6931
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_x_lv_ea l.dln_x_lv_ea dl.dln_x_lv_ea dl2.dln_x_lv_ea if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   235.3936   373.1735       4  -738.3471   -724.342
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_x_lv_ea l.dln_x_lv_ea dl.dln_x_lv_ea dl2.dln_x_lv_ea dl3.dln_x_lv_ea if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   235.3936   373.1986       5  -736.3972  -718.8909
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_x_lv_ea l.dln_x_lv_ea dl.dln_x_lv_ea dl2.dln_x_lv_ea dl3.dln_x_lv_ea dl4.dln_x_lv_ea if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   235.3936   376.5167       6  -741.0335  -720.0259
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_x_lv_ea l.dln_x_lv_ea dl.dln_x_lv_ea dl2.dln_x_lv_ea dl3.dln_x_lv_ea dl4.dln_x_lv_ea dl5.dln_x_lv_ea if date>47
> 4

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   235.3936   377.9375       7   -741.875  -717.3662
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. dfuller dln_x_lv_ea, lags(0) regress

Dickey-Fuller test for unit root                   Number of obs   =       250

                               ---------- Interpolated Dickey-Fuller ---------
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
------------------------------------------------------------------------------
 Z(t)            -22.588            -3.460            -2.880            -2.570
------------------------------------------------------------------------------
MacKinnon approximate p-value for Z(t) = 0.0000

------------------------------------------------------------------------------
D.           |
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
 dln_x_lv_ea |
         L1. |  -1.346017   .0595901   -22.59   0.000    -1.463384    -1.22865
             |
       _cons |    .010006   .0033619     2.98   0.003     .0033845    .0166274
------------------------------------------------------------------------------

. 
. 
. quietly regress d.dln_m_ea l.dln_m_ea if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   582.1161   651.1091       2  -1298.218  -1291.216
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_m_ea l.dln_m_ea dl.dln_m_ea if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   582.1161    666.582       3  -1327.164   -1316.66
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_m_ea l.dln_m_ea dl.dln_m_ea dl2.dln_m_ea if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   582.1161   666.7375       4  -1325.475   -1311.47
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_m_ea l.dln_m_ea dl.dln_m_ea dl2.dln_m_ea dl3.dln_m_ea if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   582.1161   666.7376       5  -1323.475  -1305.969
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_m_ea l.dln_m_ea dl.dln_m_ea dl2.dln_m_ea dl3.dln_m_ea dl4.dln_m_ea if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   582.1161   666.7532       6  -1321.506  -1300.499
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.dln_m_ea l.dln_m_ea dl.dln_m_ea dl2.dln_m_ea dl3.dln_m_ea dl4.dln_m_ea dl5.dln_m_ea if date>474

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        245   582.1161   667.4724       7  -1320.945  -1296.436
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. dfuller dln_m_ea, lags(1) regress

Augmented Dickey-Fuller test for unit root         Number of obs   =       249

                               ---------- Interpolated Dickey-Fuller ---------
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
------------------------------------------------------------------------------
 Z(t)             -7.192            -3.460            -2.880            -2.570
------------------------------------------------------------------------------
MacKinnon approximate p-value for Z(t) = 0.0000

------------------------------------------------------------------------------
  D.dln_m_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    dln_m_ea |
         L1. |   -.563231    .078315    -7.19   0.000    -.7174845   -.4089775
         LD. |  -.3497417   .0595278    -5.88   0.000    -.4669909   -.2324926
             |
       _cons |   .0019902   .0010532     1.89   0.060    -.0000842    .0040647
------------------------------------------------------------------------------

. 
. *Here all the variables are stationary*
. 
. *C)
. *Now we can see the correlation graphs which would give us some idea of which model is better, AR(1) or AR(2) - it seems that AR(1) i
> s better*
. pac dln_x_lv_ea

. corrgram dln_x_lv_ea, lags(5)

                                          -1       0       1 -1       0       1
 LAG       AC       PAC      Q     Prob>Q  [Autocorrelation]  [Partial Autocor]
-------------------------------------------------------------------------------
1       -0.3459  -0.3460   30.389  0.0000        --|                --|        
2        0.0812  -0.0447   32.069  0.0000          |                  |        
3        0.0093   0.0275   32.091  0.0000          |                  |        
4       -0.0256  -0.0115    32.26  0.0000          |                  |        
5        0.1564   0.1649   38.572  0.0000          |-                 |-       

. summarize date

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
        date |        252       593.5    72.89033        468        719

. 
. *Now we can compare the models and use information criteria to make a forecast, however, the sample size should be the same*
. var dln_x_lv_ea if date>470 & date<708, lag(1)

Vector autoregression

Sample:  1999m4 - 2018m12                       Number of obs     =        237
Log likelihood =   379.5026                     AIC               =  -3.185676
FPE            =   .0024211                     HQIC              =   -3.17388
Det(Sigma_ml)  =   .0023805                     SBIC              =   -3.15641

Equation           Parms      RMSE     R-sq      chi2     P>chi2
----------------------------------------------------------------
dln_x_lv_ea           2     .048998   0.1315   35.88546   0.0000
----------------------------------------------------------------

------------------------------------------------------------------------------
 dln_x_lv_ea |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
dln_x_lv_ea  |
 dln_x_lv_ea |
         L1. |  -.3621034   .0604468    -5.99   0.000     -.480577   -.2436298
             |
       _cons |   .0106091   .0032051     3.31   0.001     .0043273     .016891
------------------------------------------------------------------------------

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        237          .   379.5026       2  -755.0052  -748.0691
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. fcast compute AR1, step(12) nose

. *predict AR1, dynamic(708) 
. 
. *VAR with 1 variable is the same as AR
. var dln_x_lv_ea if date>469 & date<708, lag(1 2)

Vector autoregression

Sample:  1999m4 - 2018m12                       Number of obs     =        237
Log likelihood =   379.9459                     AIC               =  -3.180978
FPE            =   .0024325                     HQIC              =  -3.163284
Det(Sigma_ml)  =   .0023716                     SBIC              =  -3.137079

Equation           Parms      RMSE     R-sq      chi2     P>chi2
----------------------------------------------------------------
dln_x_lv_ea           3     .049011   0.1347   36.90823   0.0000
----------------------------------------------------------------

------------------------------------------------------------------------------
 dln_x_lv_ea |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
dln_x_lv_ea  |
 dln_x_lv_ea |
         L1. |  -.3842919   .0647644    -5.93   0.000    -.5112278    -.257356
         L2. |  -.0614386   .0651882    -0.94   0.346    -.1892052     .066328
             |
       _cons |   .0112931   .0032804     3.44   0.001     .0048637    .0177225
------------------------------------------------------------------------------

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        237          .   379.9459       3  -753.8918  -743.4876
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. fcast compute AR2, step(12) nose

. *predict AR2_u, dynamic(708) residual
. label variable AR1 "AR1"

. label variable AR2 "AR2"

. tsline AR1 AR2 dln_x_lv_ea if date>700

. 
. *** HAC does not matter for forecasting, however, this regression can be substituted by newey command if the one is interested in cor
> rect standard errors and significance results'
. 
. *D)
. *To choose the parameter of truncation, I again use the following formula
. display 0.75*250^(1/3)
4.7247039

. *4.7247039
. * I test the models using IC again. There are, of course more possible models to test, but I tend to add more lags of one variable, c
> hoose the most appropriate model by IC, and then add lags to the second variable and choose the most appropriate model by IC
. regress dln_x_lv_ea dln_m_ea l.dln_x_lv_ea if date>tm(1999m6)

      Source |       SS           df       MS      Number of obs   =       246
-------------+----------------------------------   F(2, 243)       =     37.99
       Model |  .185499671         2  .092749836   Prob > F        =    0.0000
    Residual |   .59325817       243  .002441392   R-squared       =    0.2382
-------------+----------------------------------   Adj R-squared   =    0.2319
       Total |  .778757841       245  .003178603   Root MSE        =    .04941

------------------------------------------------------------------------------
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    dln_m_ea |   1.129743   .1846982     6.12   0.000     .7659292    1.493557
             |
 dln_x_lv_ea |
         L1. |  -.3749687   .0561508    -6.68   0.000    -.4855731   -.2643643
             |
       _cons |   .0057107   .0032389     1.76   0.079    -.0006693    .0120906
------------------------------------------------------------------------------

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537   392.3184       3  -778.6367  -768.1207
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. regress dln_x_lv_ea dln_m_ea l.dln_x_lv_ea l.dln_m_ea if date>tm(1999m6)

      Source |       SS           df       MS      Number of obs   =       246
-------------+----------------------------------   F(3, 242)       =     25.40
       Model |  .186516474         3  .062172158   Prob > F        =    0.0000
    Residual |  .592241367       242  .002447278   R-squared       =    0.2395
-------------+----------------------------------   Adj R-squared   =    0.2301
       Total |  .778757841       245  .003178603   Root MSE        =    .04947

------------------------------------------------------------------------------
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    dln_m_ea |   1.115372   .1862599     5.99   0.000     .7484741    1.482269
             |
 dln_x_lv_ea |
         L1. |  -.3866801   .0590815    -6.54   0.000    -.5030598   -.2703004
             |
    dln_m_ea |
         L1. |   .1262007   .1957875     0.64   0.520    -.2594646    .5118659
             |
       _cons |    .005384   .0032822     1.64   0.102    -.0010813    .0118493
------------------------------------------------------------------------------

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537   392.5293       4  -777.0587  -763.0374
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. regress dln_x_lv_ea dln_m_ea l.dln_x_lv_ea l.dln_m_ea l2.dln_m_ea if date>tm(1999m6)

      Source |       SS           df       MS      Number of obs   =       246
-------------+----------------------------------   F(4, 241)       =     20.14
       Model |  .195105617         4  .048776404   Prob > F        =    0.0000
    Residual |  .583652224       241  .002421793   R-squared       =    0.2505
-------------+----------------------------------   Adj R-squared   =    0.2381
       Total |  .778757841       245  .003178603   Root MSE        =    .04921

------------------------------------------------------------------------------
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    dln_m_ea |    .984645   .1978637     4.98   0.000      .594882    1.374408
             |
 dln_x_lv_ea |
         L1. |  -.3754643   .0590741    -6.36   0.000    -.4918318   -.2590969
             |
    dln_m_ea |
         L1. |   .0816392   .1961975     0.42   0.678    -.3048417    .4681202
         L2. |    .373048   .1980881     1.88   0.061     -.017157     .763253
             |
       _cons |   .0045311   .0032963     1.37   0.171    -.0019622    .0110243
------------------------------------------------------------------------------

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537   394.3262       5  -778.6525  -761.1258
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. regress dln_x_lv_ea dln_m_ea l.dln_x_lv_ea l.dln_m_ea l2.dln_m_ea l3.dln_m_ea  if date>tm(1999m6)

      Source |       SS           df       MS      Number of obs   =       246
-------------+----------------------------------   F(5, 240)       =     17.08
       Model |   .20439031         5  .040878062   Prob > F        =    0.0000
    Residual |  .574367531       240  .002393198   R-squared       =    0.2625
-------------+----------------------------------   Adj R-squared   =    0.2471
       Total |  .778757841       245  .003178603   Root MSE        =    .04892

------------------------------------------------------------------------------
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    dln_m_ea |   .9749619   .1967535     4.96   0.000     .5873776    1.362546
             |
 dln_x_lv_ea |
         L1. |  -.3926394   .0593681    -6.61   0.000    -.5095886   -.2756902
             |
    dln_m_ea |
         L1. |  -.0343932   .2037383    -0.17   0.866    -.4357367    .3669504
         L2. |   .3379964   .1977176     1.71   0.089    -.0514871    .7274799
         L3. |   .3902905   .1981497     1.97   0.050    -.0000442    .7806251
             |
       _cons |   .0037669   .0032997     1.14   0.255    -.0027332    .0102669
------------------------------------------------------------------------------

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537   396.2987       6  -780.5973  -759.5653
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. regress dln_x_lv_ea dln_m_ea l.dln_x_lv_ea l.dln_m_ea l2.dln_m_ea l3.dln_m_ea l4.dln_m_ea if date>tm(1999m6)

      Source |       SS           df       MS      Number of obs   =       246
-------------+----------------------------------   F(6, 239)       =     14.47
       Model |  .207481081         6   .03458018   Prob > F        =    0.0000
    Residual |   .57127676       239  .002390279   R-squared       =    0.2664
-------------+----------------------------------   Adj R-squared   =    0.2480
       Total |  .778757841       245  .003178603   Root MSE        =    .04889

------------------------------------------------------------------------------
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    dln_m_ea |   .9757844   .1966348     4.96   0.000     .5884258    1.363143
             |
 dln_x_lv_ea |
         L1. |  -.3967873    .059444    -6.67   0.000    -.5138883   -.2796863
             |
    dln_m_ea |
         L1. |  -.0388913   .2036524    -0.19   0.849    -.4400742    .3622916
         L2. |   .2585105   .2095964     1.23   0.219    -.1543818    .6714028
         L3. |   .3758599   .1984351     1.89   0.059    -.0150452    .7667649
         L4. |   .2228423   .1959696     1.14   0.257    -.1632058    .6088905
             |
       _cons |   .0033056   .0033225     0.99   0.321    -.0032396    .0098508
------------------------------------------------------------------------------

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537   396.9623       7  -779.9246  -755.3873
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. regress dln_x_lv_ea dln_m_ea l.dln_x_lv_ea l.dln_m_ea l2.dln_m_ea l3.dln_m_ea l4.dln_m_ea l5.dln_m_ea if date>tm(1999m6)

      Source |       SS           df       MS      Number of obs   =       246
-------------+----------------------------------   F(7, 238)       =     14.00
       Model |  .227109083         7  .032444155   Prob > F        =    0.0000
    Residual |  .551648758       238  .002317852   R-squared       =    0.2916
-------------+----------------------------------   Adj R-squared   =    0.2708
       Total |  .778757841       245  .003178603   Root MSE        =    .04814

------------------------------------------------------------------------------
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    dln_m_ea |   .9709787   .1936398     5.01   0.000     .5895118    1.352446
             |
 dln_x_lv_ea |
         L1. |  -.4044431   .0585955    -6.90   0.000    -.5198752    -.289011
             |
    dln_m_ea |
         L1. |     -.0308   .2005625    -0.15   0.878    -.4259045    .3643045
         L2. |    .237607   .2065215     1.15   0.251    -.1692366    .6444506
         L3. |   .1838603   .2062439     0.89   0.374    -.2224363     .590157
         L4. |   .1807898    .193518     0.93   0.351    -.2004372    .5620167
         L5. |    .561834   .1930691     2.91   0.004     .1814914    .9421767
             |
       _cons |   .0021044   .0032977     0.64   0.524    -.0043921    .0086009
------------------------------------------------------------------------------

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537   401.2627       8  -786.5254  -758.4827
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. 
. *The most appropriate model contains five lags 
. 
. regress dln_x_lv_ea dln_m_ea l.dln_x_lv_ea l2.dln_x_lv_ea l.dln_m_ea l2.dln_m_ea l3.dln_m_ea l4.dln_m_ea l5.dln_m_ea if date>tm(1999m
> 6)

      Source |       SS           df       MS      Number of obs   =       246
-------------+----------------------------------   F(8, 237)       =     13.67
       Model |  .245898383         8  .030737298   Prob > F        =    0.0000
    Residual |  .532859459       237  .002248352   R-squared       =    0.3158
-------------+----------------------------------   Adj R-squared   =    0.2927
       Total |  .778757841       245  .003178603   Root MSE        =    .04742

------------------------------------------------------------------------------
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    dln_m_ea |   .9691218   .1907157     5.08   0.000     .5934072    1.344836
             |
 dln_x_lv_ea |
         L1. |  -.4776601   .0630234    -7.58   0.000    -.6018178   -.3535023
         L2. |  -.1825843   .0631598    -2.89   0.004    -.3070106   -.0581581
             |
    dln_m_ea |
         L1. |   .0772178   .2010358     0.38   0.701    -.3188276    .4732631
         L2. |   .3708929   .2085619     1.78   0.077     -.039979    .7817648
         L3. |   .1348656   .2038341     0.66   0.509    -.2666926    .5364237
         L4. |   .2761141   .1934261     1.43   0.155      -.10494    .6571681
         L5. |   .6122452   .1909505     3.21   0.002     .2360681    .9884222
             |
       _cons |   .0026012   .0032525     0.80   0.425    -.0038062    .0090087
------------------------------------------------------------------------------

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537   405.5251       9  -793.0502  -761.5022
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. regress dln_x_lv_ea dln_m_ea l.dln_x_lv_ea l2.dln_x_lv_ea l3.dln_x_lv_ea l.dln_m_ea l2.dln_m_ea l3.dln_m_ea l4.dln_m_ea l5.dln_m_ea i
> f date>tm(1999m6)

      Source |       SS           df       MS      Number of obs   =       246
-------------+----------------------------------   F(9, 236)       =     13.12
       Model |  .259644218         9  .028849358   Prob > F        =    0.0000
    Residual |  .519113623       236  .002199634   R-squared       =    0.3334
-------------+----------------------------------   Adj R-squared   =    0.3080
       Total |  .778757841       245  .003178603   Root MSE        =     .0469

------------------------------------------------------------------------------
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    dln_m_ea |   1.004422   .1891659     5.31   0.000     .6317519    1.377091
             |
 dln_x_lv_ea |
         L1. |  -.5038986   .0632144    -7.97   0.000    -.6284351    -.379362
         L2. |  -.2554118   .0689307    -3.71   0.000      -.39121   -.1196137
         L3. |  -.1580735   .0632337    -2.50   0.013    -.2826481   -.0334988
             |
    dln_m_ea |
         L1. |   .0983603   .1990256     0.49   0.622    -.2937333     .490454
         L2. |   .4504767    .208732     2.16   0.032     .0392607    .8616926
         L3. |   .2574769    .207494     1.24   0.216    -.1513002    .6662539
         L4. |   .2594144   .1914356     1.36   0.177    -.1177266    .6365553
         L5. |   .7031319   .1923379     3.66   0.000     .3242134     1.08205
             |
       _cons |   .0031602   .0032248     0.98   0.328    -.0031929    .0095133
------------------------------------------------------------------------------

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537   408.7397      10  -797.4794  -762.4261
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. regress dln_x_lv_ea dln_m_ea l.dln_x_lv_ea l2.dln_x_lv_ea l3.dln_x_lv_ea l4.dln_x_lv_ea l.dln_m_ea l2.dln_m_ea l3.dln_m_ea l4.dln_m_e
> a l5.dln_m_ea if date>tm(1999m6)

      Source |       SS           df       MS      Number of obs   =       246
-------------+----------------------------------   F(10, 235)      =     12.39
       Model |  .268808379        10  .026880838   Prob > F        =    0.0000
    Residual |  .509949462       235  .002169998   R-squared       =    0.3452
-------------+----------------------------------   Adj R-squared   =    0.3173
       Total |  .778757841       245  .003178603   Root MSE        =    .04658

------------------------------------------------------------------------------
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    dln_m_ea |   .9930721   .1879684     5.28   0.000     .6227536    1.363391
             |
 dln_x_lv_ea |
         L1. |  -.5183508   .0631797    -8.20   0.000    -.6428218   -.3938798
         L2. |  -.2815007   .0696319    -4.04   0.000    -.4186832   -.1443183
         L3. |  -.2167185   .0689856    -3.14   0.002    -.3526277   -.0808093
         L4. |  -.1275535   .0620691    -2.06   0.041    -.2498364   -.0052705
             |
    dln_m_ea |
         L1. |   .1422057   .1988283     0.72   0.475     -.249508    .5339194
         L2. |   .4704589   .2075489     2.27   0.024     .0615647    .8793532
         L3. |   .3278412   .2089164     1.57   0.118    -.0837471    .7394296
         L4. |   .3904175   .2005433     1.95   0.053    -.0046748    .7855098
         L5. |    .698443   .1910514     3.66   0.000     .3220507    1.074835
             |
       _cons |   .0038543   .0032208     1.20   0.233     -.002491    .0101995
------------------------------------------------------------------------------

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   358.8537   410.9305      11  -799.8609  -761.3023
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. 
. display (0.993+0.142+0.470+0.327+0.390)/(1-(-0.518)-(-0.282)-(-0.217)-(-0.128))
1.0825175

. *1.0825175
. *We can see that AIC criteria gives ambiguous results (the criteria "jumps" from one regression to another), so I believe that the BI
> C criteria should be applied in this case because it punishes the model stronger. As the BIC results show, the right model to use is 
> the model with 1 export lag and eurozone's current import with 0 lags*
. 
. *As the best model has been chosen, it should be checked on the whole sample and tested further. The approach with simple regress com
> mand might suffer from heteroscedasticity or autocorellation - although heteroscedasticity can be eliminated by using robust command,
>  autocorrelation might still be a problem. That is why I decide to use newey command
. 
. *Now we can run the Newey regression using the calculated number of lags(5)
. newey dln_x_lv_ea dln_m_ea l.dln_x_lv_ea l2.dln_x_lv_ea l3.dln_x_lv_ea l4.dln_x_lv_ea l.dln_m_ea l2.dln_m_ea l3.dln_m_ea l4.dln_m_ea 
> l5.dln_m_ea, lag(5)

Regression with Newey-West standard errors      Number of obs     =        246
maximum lag: 5                                  F( 10,       235) =      11.68
                                                Prob > F          =     0.0000

------------------------------------------------------------------------------
             |             Newey-West
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    dln_m_ea |   .9930721   .2609261     3.81   0.000      .479019    1.507125
             |
 dln_x_lv_ea |
         L1. |  -.5183508   .0879346    -5.89   0.000    -.6915916   -.3451099
         L2. |  -.2815007   .1106233    -2.54   0.012    -.4994409   -.0635605
         L3. |  -.2167185   .0875825    -2.47   0.014    -.3892656   -.0441713
         L4. |  -.1275535   .0925138    -1.38   0.169    -.3098158    .0547089
             |
    dln_m_ea |
         L1. |   .1422057   .1781277     0.80   0.425    -.2087254    .4931368
         L2. |   .4704589   .1503252     3.13   0.002     .1743018    .7666161
         L3. |   .3278412   .2162851     1.52   0.131    -.0982642    .7539467
         L4. |   .3904175   .2049572     1.90   0.058    -.0133707    .7942057
         L5. |    .698443   .2282841     3.06   0.002     .2486982    1.148188
             |
       _cons |   .0038543   .0032426     1.19   0.236    -.0025339    .0102425
------------------------------------------------------------------------------

. 
. *We can see that there is some positive autocorrelation, so the Newey-West HAC was the right approach to use`*
. predict ardl_u, residual
(6 missing values generated)

. corrgram ardl_u, lags(10)

                                          -1       0       1 -1       0       1
 LAG       AC       PAC      Q     Prob>Q  [Autocorrelation]  [Partial Autocor]
-------------------------------------------------------------------------------
1       -0.0127  -0.0128   .04015  0.8412          |                  |        
2       -0.0358  -0.0364   .35976  0.8354          |                  |        
3       -0.0350  -0.0366   .66796  0.8807          |                  |        
4       -0.0313  -0.0342   .91483  0.9224          |                  |        
5       -0.0081  -0.0122   .93136  0.9679          |                  |        
6        0.0310   0.0290   1.1758  0.9781          |                  |        
7        0.0567   0.0617   1.9958  0.9601          |                  |        
8        0.1579   0.1845   8.3854  0.3968          |-                 |-       
9        0.0600   0.1001    9.312  0.4090          |                  |        
10       0.0674   0.1287   10.486  0.3990          |                  |-       

. 
. 
. *Now we can calculate the long-term coefficient using the formula*
. display (0.993+0.142+0.470+0.327+0.390)/(1-(-0.518)-(-0.282)-(-0.217)-(-0.128))
1.0825175

. *1.0825175
. *In the long run, if the eurozone import growth increases by 1 percentage point, the growth of Latvian exports to the eurozone will i
> ncrease by 1.083 pp. (value from the previous expression)*
. 
. 
. 
. *E)
. 
. newey ln_x_lv_ea ln_m_ea ln_p_lv_sa ln_p_ea_sa, lag(5)

Regression with Newey-West standard errors      Number of obs     =        252
maximum lag: 5                                  F(  3,       248) =    1033.13
                                                Prob > F          =     0.0000

------------------------------------------------------------------------------
             |             Newey-West
  ln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     ln_m_ea |   1.716385   .2143049     8.01   0.000     1.294295    2.138475
  ln_p_lv_sa |  -.0550902   .2237552    -0.25   0.806     -.495793    .3856125
  ln_p_ea_sa |   .9744961   .7334408     1.33   0.185    -.4700711    2.419063
       _cons |  -19.67271   1.353252   -14.54   0.000    -22.33804   -17.00738
------------------------------------------------------------------------------

. predict coin_u, residual

. quietly regress d.coin_u l.coin_u if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   366.3358   378.4378       2  -752.8757   -745.865
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.coin_u l.coin_u dl.coin_u if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   366.3358   388.6559       3  -771.3119  -760.7959
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.coin_u l.coin_u dl.coin_u dl2.coin_u if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   366.3358   389.4075       4   -770.815  -756.7937
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.coin_u l.coin_u dl.coin_u dl2.coin_u dl3.coin_u if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   366.3358   390.0529       5  -770.1059  -752.5792
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.coin_u l.coin_u dl.coin_u dl2.coin_u dl3.coin_u dl4.coin_u if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   366.3358   391.3673       6  -770.7346  -749.7026
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.coin_u l.coin_u dl.coin_u dl2.coin_u dl3.coin_u dl4.coin_u dl5.coin_u if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   366.3358   391.3879       7  -768.7758  -744.2385
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. dfuller coin_u, lag(1) regress

Augmented Dickey-Fuller test for unit root         Number of obs   =       250

                               ---------- Interpolated Dickey-Fuller ---------
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
------------------------------------------------------------------------------
 Z(t)             -3.565            -3.460            -2.880            -2.570
------------------------------------------------------------------------------
MacKinnon approximate p-value for Z(t) = 0.0065

------------------------------------------------------------------------------
    D.coin_u |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
      coin_u |
         L1. |   -.134337   .0376814    -3.57   0.000    -.2085548   -.0601192
         LD. |  -.2852844   .0611505    -4.67   0.000    -.4057273   -.1648416
             |
       _cons |  -.0003977   .0031524    -0.13   0.900    -.0066067    .0058113
------------------------------------------------------------------------------

. * The values for dfuller test are different, I have looked them up in the statistical tables - the link is in the description of the 
> tables. The results show that the cointegration with the best specification using IC does not exist, however, the it depends on the n
> umber of lags*
. * There is another way to do it through the egranger module which gives the correct statistics for u*
. ssc install egranger
checking egranger consistency and verifying not already installed...
all files already exist and are up to date.

. egranger ln_x_lv_ea ln_m_ea ln_p_lv_sa ln_p_ea_sa, lag(1) regress

Augmented Engle-Granger test for cointegration        N (1st step)  =      252
Number of lags   =  1                                 N (test)      =      250
------------------------------------------------------------------------------
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
------------------------------------------------------------------------------
 Z(t)             -3.573            -4.716            -4.141            -3.844

Critical values from MacKinnon (1990, 2010)
------------------------------------------------------------------------------
Engle-Granger 1st-step regression
------------------------------------------------------------------------------
  ln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     ln_m_ea |   1.716385   .0797267    21.53   0.000     1.559357    1.873413
  ln_p_lv_sa |  -.0550902   .1102673    -0.50   0.618      -.27227    .1620895
  ln_p_ea_sa |   .9744961    .316375     3.08   0.002     .3513716    1.597621
       _cons |  -19.67271    .694939   -28.31   0.000    -21.04144   -18.30397
------------------------------------------------------------------------------
Engle-Granger test regression
------------------------------------------------------------------------------
  D._egresid |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    _egresid |
         L1. |  -.1343597   .0376061    -3.57   0.000    -.2084278   -.0602916
         LD. |  -.2852079    .061026    -4.67   0.000    -.4054033   -.1650126
------------------------------------------------------------------------------

. * Also, the one might consider exluding ln_p_lv_sa from this analysis because it does not give significant results in the regression.
> *
. tsline ln_x_lv_ea ln_p_ea_sa ln_p_lv_sa ln_m_ea

. 
. *Further we can get rid of the insignificant factor (basically, create another model) and implement the error ECM analysis to run sho
> rt-term model to find the iteration where the data is stationary*
. newey ln_x_lv_ea ln_m_ea ln_p_ea_sa, lag(5)

Regression with Newey-West standard errors      Number of obs     =        252
maximum lag: 5                                  F(  2,       249) =    1568.48
                                                Prob > F          =     0.0000

------------------------------------------------------------------------------
             |             Newey-West
  ln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     ln_m_ea |   1.718156   .2123255     8.09   0.000     1.299973    2.136338
  ln_p_ea_sa |   .8462787    .532674     1.59   0.113    -.2028423      1.8954
       _cons |  -19.35922   .4893606   -39.56   0.000    -20.32303    -18.3954
------------------------------------------------------------------------------

. predict coin2_u, resid

. *Now the optimal DF model should be found
. quietly regress d.coin2_u l.coin2_u if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   366.2744   378.3758       2  -752.7517   -745.741
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.coin2_u l.coin2_u dl.coin2_u if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   366.2744   388.6378       3  -771.2756  -760.7596
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.coin2_u l.coin2_u dl.coin2_u dl2.coin2_u if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   366.2744   389.4112       4  -770.8225  -756.8011
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.coin2_u l.coin2_u dl.coin2_u dl2.coin2_u dl3.coin2_u if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   366.2744   390.0754       5  -770.1509  -752.6242
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.coin2_u l.coin2_u dl.coin2_u dl2.coin2_u dl3.coin2_u dl4.coin2_u if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   366.2744   391.3941       6  -770.7882  -749.7562
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. quietly regress d.coin2_u l.coin2_u dl.coin2_u dl2.coin2_u dl3.coin2_u dl4.coin2_u dl5.coin2_u if date>473

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        246   366.2744   391.4167       7  -768.8334  -744.2961
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. dfuller coin2_u, lag(1) regress

Augmented Dickey-Fuller test for unit root         Number of obs   =       250

                               ---------- Interpolated Dickey-Fuller ---------
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
------------------------------------------------------------------------------
 Z(t)             -3.565            -3.460            -2.880            -2.570
------------------------------------------------------------------------------
MacKinnon approximate p-value for Z(t) = 0.0065

------------------------------------------------------------------------------
   D.coin2_u |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     coin2_u |
         L1. |  -.1342441   .0376573    -3.56   0.000    -.2084145   -.0600737
         LD. |  -.2858037    .061135    -4.67   0.000    -.4062161   -.1653912
             |
       _cons |  -.0003714   .0031526    -0.12   0.906    -.0065809     .005838
------------------------------------------------------------------------------

. egranger ln_x_lv_ea ln_m_ea ln_p_ea_sa, lag(1) regress
Replacing variable _egresid...

Augmented Engle-Granger test for cointegration        N (1st step)  =      252
Number of lags   =  1                                 N (test)      =      250
------------------------------------------------------------------------------
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
------------------------------------------------------------------------------
 Z(t)             -3.573            -4.352            -3.775            -3.477

Critical values from MacKinnon (1990, 2010)
------------------------------------------------------------------------------
Engle-Granger 1st-step regression
------------------------------------------------------------------------------
  ln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     ln_m_ea |   1.718156   .0795278    21.60   0.000     1.561523    1.874789
  ln_p_ea_sa |   .8462787   .1847365     4.58   0.000     .4824334    1.210124
       _cons |  -19.35922    .298245   -64.91   0.000    -19.94662   -18.77181
------------------------------------------------------------------------------
Engle-Granger test regression
------------------------------------------------------------------------------
  D._egresid |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    _egresid |
         L1. |  -.1342646    .037582    -3.57   0.000    -.2082851   -.0602441
         LD. |  -.2857348   .0610106    -4.68   0.000    -.4058997   -.1655699
------------------------------------------------------------------------------

. 
. **************************************************************
. 
. * Short-run equation (in first log-differences) should include lag of the residual from the long run equation
. * However, we can have different versions of the short run equation:
. * Use statistics on individual coefficients and/or IC to chose the preferred one
. newey dln_x_lv_ea dln_m_ea dln_p_ea_sa l.coin2_u  if date>470, lag(5)

Regression with Newey-West standard errors      Number of obs     =        249
maximum lag: 5                                  F(  3,       245) =       6.87
                                                Prob > F          =     0.0002

------------------------------------------------------------------------------
             |             Newey-West
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    dln_m_ea |   .9927919   .2305573     4.31   0.000     .5386646    1.446919
 dln_p_ea_sa |   1.201869   .9171678     1.31   0.191    -.6046712    3.008408
             |
     coin2_u |
         L1. |  -.1889342    .053637    -3.52   0.001    -.2945826   -.0832858
             |
       _cons |   .0019408   .0029158     0.67   0.506    -.0038023     .007684
------------------------------------------------------------------------------

. quietly estimates store eq1

. quietly regress dln_x_lv_ea dln_m_ea dln_p_ea_sa l.coin2_u if date>470

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        249   364.4799   391.0746       4  -774.1491  -760.0793
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. 
. newey dln_x_lv_ea l.coin2_u l.dln_m_ea dln_p_ea_sa if date>470, lag(5)

Regression with Newey-West standard errors      Number of obs     =        249
maximum lag: 5                                  F(  3,       245) =       4.12
                                                Prob > F          =     0.0071

------------------------------------------------------------------------------
             |             Newey-West
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     coin2_u |
         L1. |  -.1965709   .0612158    -3.21   0.001    -.3171473   -.0759945
             |
    dln_m_ea |
         L1. |  -.2930391   .3338341    -0.88   0.381    -.9505901    .3645118
             |
 dln_p_ea_sa |    1.83727   1.014235     1.81   0.071    -.1604632    3.835004
       _cons |   .0058185   .0040838     1.42   0.155    -.0022253    .0138624
------------------------------------------------------------------------------

. quietly estimates store eq2

. quietly regress dln_x_lv_ea l.coin2_u l.dln_m_ea dln_p_ea_sa if date>470

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        249   364.4799   378.9337       4  -749.8673  -735.7975
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. 
. newey dln_x_lv_ea dln_m_ea l.dln_p_ea_sa l.coin2_u if date>470, lag(5)

Regression with Newey-West standard errors      Number of obs     =        249
maximum lag: 5                                  F(  3,       245) =       6.90
                                                Prob > F          =     0.0002

------------------------------------------------------------------------------
             |             Newey-West
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    dln_m_ea |   1.020472   .2381021     4.29   0.000     .5514842    1.489461
             |
 dln_p_ea_sa |
         L1. |  -.0391766   .6676958    -0.06   0.953    -1.354333     1.27598
             |
     coin2_u |
         L1. |  -.1895804   .0532818    -3.56   0.000    -.2945293   -.0846316
             |
       _cons |   .0035977    .002782     1.29   0.197     -.001882    .0090774
------------------------------------------------------------------------------

. quietly estimates store eq3

. quietly regress dln_x_lv_ea dln_m_ea l.dln_p_ea_sa l.coin2_u if date>470

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        249   364.4799   390.0979       4  -772.1957  -758.1259
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. 
. newey dln_x_lv_ea l.coin2_u l.dln_x_lv_ea dln_p_ea_sa dln_m_ea if date>470, lag(5)

Regression with Newey-West standard errors      Number of obs     =        249
maximum lag: 5                                  F(  4,       244) =      14.44
                                                Prob > F          =     0.0000

------------------------------------------------------------------------------
             |             Newey-West
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     coin2_u |
         L1. |  -.1416879   .0383043    -3.70   0.000    -.2171372   -.0662386
             |
 dln_x_lv_ea |
         L1. |  -.3249375   .0556053    -5.84   0.000    -.4344651   -.2154099
             |
 dln_p_ea_sa |   1.371052   .8643794     1.59   0.114    -.3315459    3.073649
    dln_m_ea |   1.075119   .2231141     4.82   0.000     .6356439    1.514595
       _cons |   .0037915   .0031264     1.21   0.226    -.0023667    .0099496
------------------------------------------------------------------------------

. quietly estimates store eq4

. quietly regress dln_x_lv_ea l.coin2_u l.dln_x_lv_ea dln_p_ea_sa ln_m_ea if date>470

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        249   364.4799   390.6119       5  -771.2238  -753.6366
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. 
. newey dln_x_lv_ea l.coin2_u l.dln_x_lv_ea l.dln_p_ea_sa dln_m_ea if date>470, lag(5)

Regression with Newey-West standard errors      Number of obs     =        249
maximum lag: 5                                  F(  4,       244) =      14.07
                                                Prob > F          =     0.0000

------------------------------------------------------------------------------
             |             Newey-West
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     coin2_u |
         L1. |  -.1420464   .0383181    -3.71   0.000    -.2175228     -.06657
             |
 dln_x_lv_ea |
         L1. |  -.3261227    .055927    -5.83   0.000     -.436284   -.2159613
             |
 dln_p_ea_sa |
         L1. |   .5377742   .7271688     0.74   0.460    -.8945548    1.970103
             |
    dln_m_ea |   1.103184   .2299213     4.80   0.000     .6502999    1.556067
       _cons |   .0048697   .0030412     1.60   0.111    -.0011206      .01086
------------------------------------------------------------------------------

. quietly estimates store eq5

. quietly regress dln_x_lv_ea l.coin2_u l.dln_x_lv_ea l.dln_p_ea_sa dln_m_ea if date>470

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        249   364.4799   406.2134       5  -802.4268  -784.8395
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. 
. newey dln_x_lv_ea l.coin2_u l.dln_x_lv_ea dln_p_ea_sa l.dln_m_ea if date>470, lag(5)

Regression with Newey-West standard errors      Number of obs     =        249
maximum lag: 5                                  F(  4,       244) =      14.67
                                                Prob > F          =     0.0000

------------------------------------------------------------------------------
             |             Newey-West
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     coin2_u |
         L1. |   -.142675   .0491137    -2.90   0.004    -.2394158   -.0459341
             |
 dln_x_lv_ea |
         L1. |  -.3052786   .0571347    -5.34   0.000    -.4178188   -.1927384
             |
 dln_p_ea_sa |   1.835229   .9892715     1.86   0.065    -.1133723    3.783831
             |
    dln_m_ea |
         L1. |   .0608912   .2940347     0.21   0.836     -.518279    .6400614
             |
       _cons |   .0067135   .0041973     1.60   0.111     -.001554    .0149811
------------------------------------------------------------------------------

. quietly estimates store eq6

. quietly regress dln_x_lv_ea l.coin2_u l.dln_x_lv_ea dln_p_ea_sa l.dln_m_ea if date>470

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        249   364.4799   390.2023       5  -770.4046  -752.8173
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. 
. newey dln_x_lv_ea l.coin2_u l.dln_x_lv_ea l.dln_p_ea_sa l.dln_m_ea if date>470, lag(5)

Regression with Newey-West standard errors      Number of obs     =        249
maximum lag: 5                                  F(  4,       244) =      13.82
                                                Prob > F          =     0.0000

------------------------------------------------------------------------------
             |             Newey-West
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     coin2_u |
         L1. |  -.1417646   .0485627    -2.92   0.004    -.2374202   -.0461091
             |
 dln_x_lv_ea |
         L1. |  -.3093445   .0566609    -5.46   0.000    -.4209514   -.1977375
             |
 dln_p_ea_sa |
         L1. |   .6064897   .7412622     0.82   0.414    -.8535997    2.066579
             |
    dln_m_ea |
         L1. |   .1004239   .3007457     0.33   0.739    -.4919651    .6928128
             |
       _cons |    .008324   .0041597     2.00   0.046     .0001305    .0165176
------------------------------------------------------------------------------

. quietly estimates store eq7

. quietly regress dln_x_lv_ea l.coin2_u l.dln_x_lv_ea l.dln_p_ea_sa l.dln_m_ea if date>470

. estat ic

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
           . |        249   364.4799   388.2031       5  -766.4062  -748.8189
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. 
. * Now we can show all 7 models, but we already know that the equation 5 looks more preferable to others using IC
. esttab eq1 eq2 eq3 eq4 eq5 eq6 eq7

----------------------------------------------------------------------------------------------------------------------------
                      (1)             (2)             (3)             (4)             (5)             (6)             (7)   
              dln_x_lv_ea     dln_x_lv_ea     dln_x_lv_ea     dln_x_lv_ea     dln_x_lv_ea     dln_x_lv_ea     dln_x_lv_ea   
----------------------------------------------------------------------------------------------------------------------------
dln_m_ea            0.993***                        1.020***        1.075***        1.103***                                
                   (4.31)                          (4.29)          (4.82)          (4.80)                                   

dln_p_ea_sa         1.202           1.837                           1.371                           1.835                   
                   (1.31)          (1.81)                          (1.59)                          (1.86)                   

L.coin2_u          -0.189***       -0.197**        -0.190***       -0.142***       -0.142***       -0.143**        -0.142** 
                  (-3.52)         (-3.21)         (-3.56)         (-3.70)         (-3.71)         (-2.90)         (-2.92)   

L.dln_m_ea                         -0.293                                                          0.0609           0.100   
                                  (-0.88)                                                          (0.21)          (0.33)   

L.dln_p_ea~a                                      -0.0392                           0.538                           0.606   
                                                  (-0.06)                          (0.74)                          (0.82)   

L.dln_x_lv~a                                                       -0.325***       -0.326***       -0.305***       -0.309***
                                                                  (-5.84)         (-5.83)         (-5.34)         (-5.46)   

_cons             0.00194         0.00582         0.00360         0.00379         0.00487         0.00671         0.00832*  
                   (0.67)          (1.42)          (1.29)          (1.21)          (1.60)          (1.60)          (2.00)   
----------------------------------------------------------------------------------------------------------------------------
N                     249             249             249             249             249             249             249   
----------------------------------------------------------------------------------------------------------------------------
t statistics in parentheses
* p<0.05, ** p<0.01, *** p<0.001

. 
. *Running the regression using the whole sample
. newey dln_x_lv_ea l.coin2_u l.dln_x_lv_ea l.dln_p_ea_sa dln_m_ea, lag(5)

Regression with Newey-West standard errors      Number of obs     =        250
maximum lag: 5                                  F(  4,       245) =      14.20
                                                Prob > F          =     0.0000

------------------------------------------------------------------------------
             |             Newey-West
 dln_x_lv_ea |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     coin2_u |
         L1. |  -.1419438   .0383025    -3.71   0.000     -.217388   -.0664995
             |
 dln_x_lv_ea |
         L1. |  -.3264855   .0558111    -5.85   0.000    -.4364162   -.2165548
             |
 dln_p_ea_sa |
         L1. |   .5590115   .7209855     0.78   0.439    -.8611092    1.979132
             |
    dln_m_ea |   1.108148   .2273708     4.87   0.000     .6602974    1.555999
       _cons |   .0048819   .0030373     1.61   0.109    -.0011007    .0108645
------------------------------------------------------------------------------

. *The interpretation is in the results description file.
. 
. *Closing the log
. log close
      name:  <unnamed>
       log:  C:\Users\Андрей\Desktop\Andrejs_Migunovs_BoL_analysis.log
  log type:  text
 closed on:   8 May 2021, 15:16:05
---------------------------------------------------------------------------------------------------------------------------------------
